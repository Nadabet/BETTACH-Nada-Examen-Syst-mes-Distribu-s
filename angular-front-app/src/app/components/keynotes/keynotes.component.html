<div class="container mt-4">
  <h2>Gestion des Keynote Speakers</h2>

  <!-- Formulaire d'ajout -->
  <div class="card mb-4">
    <div class="card-header">
      <h5>{{ isEditing ? 'Modifier' : 'Ajouter' }} un Keynote</h5>
    </div>
    <div class="card-body">
      <form (ngSubmit)="saveKeynote()">
        <div class="row">
          <div class="col-md-6 mb-3">
            <label>Nom</label>
            <input type="text" class="form-control" 
                   [(ngModel)]="isEditing ? selectedKeynote!.nom : newKeynote.nom" 
                   name="nom" required>
          </div>
          <div class="col-md-6 mb-3">
            <label>Prénom</label>
            <input type="text" class="form-control" 
                   [(ngModel)]="isEditing ? selectedKeynote!.prenom : newKeynote.prenom" 
                   name="prenom" required>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6 mb-3">
            <label>Email</label>
            <input type="email" class="form-control" 
                   [(ngModel)]="isEditing ? selectedKeynote!.email : newKeynote.email" 
                   name="email" required>
          </div>
          <div class="col-md-6 mb-3">
            <label>Fonction</label>
            <input type="text" class="form-control" 
                   [(ngModel)]="isEditing ? selectedKeynote!.fonction : newKeynote.fonction" 
                   name="fonction" required>
          </div>
        </div>
        <div class="btn-group">
          <button type="submit" class="btn btn-primary">
            {{ isEditing ? 'Mettre à jour' : 'Ajouter' }}
          </button>
          <button type="button" class="btn btn-secondary" *ngIf="isEditing" (click)="cancelEdit()">
            Annuler
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- Liste des keynotes -->
  <div class="card">
    <div class="card-header">
      <h5>Liste des Keynotes ({{ keynotes.length }})</h5>
    </div>
    <div class="card-body">
      <table class="table table-striped">
        <thead>
          <tr>
            <th>ID</th>
            <th>Nom</th>
            <th>Prénom</th>
            <th>Email</th>
            <th>Fonction</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let keynote of keynotes">
            <td>{{ keynote.id }}</td>
            <td>{{ keynote.nom }}</td>
            <td>{{ keynote.prenom }}</td>
            <td>{{ keynote.email }}</td>
            <td>{{ keynote.fonction }}</td>
            <td>
              <button class="btn btn-sm btn-warning me-2" (click)="selectKeynote(keynote)">
                Modifier
              </button>
              <button class="btn btn-sm btn-danger" (click)="deleteKeynote(keynote.id)">
                Supprimer
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
